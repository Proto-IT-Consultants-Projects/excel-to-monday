{"version":3,"file":"Dialog.js","sources":["../../../../../src/components/Dialog/Dialog.tsx"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport cx from \"classnames\";\nimport React, { PureComponent, ReactElement } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Manager, Modifier, Popper, Reference } from \"react-popper\";\nimport { DialogPosition } from \"../../constants/positions\";\nimport { isFunction } from \"lodash-es\";\nimport { backwardCompatibilityForProperties } from \"../../helpers/backwardCompatibilityForProperties\";\nimport { chainFunctions, convertToArray, NOOP } from \"../../utils/function-utils\";\nimport { DialogContent } from \"./DialogContent/DialogContent\";\nimport { isInsideClass } from \"../../utils/dom-utils\";\nimport { Refable } from \"../Refable/Refable\";\nimport { AnimationType, HideShowEvent } from \"../../constants/dialog\";\nimport { VibeComponentProps } from \"../../types\";\nimport * as PopperJS from \"@popperjs/core\";\nimport styles from \"./Dialog.module.scss\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport { isClient } from \"../../utils/ssr-utils\";\n\nexport interface DialogProps extends VibeComponentProps {\n  /**\n   * A Classname to be added to <span> element which wraps the children\n   */\n  referenceWrapperClassName?: string;\n  /**\n   * Where the dialog should be in reference to the children,\n   * Top, Left, Right, Bottom ...\n   */\n  position?: DialogPosition;\n  /**\n   * PopperJS Modifiers type\n   * https://popper.js.org/docs/v2/modifiers/\n   */\n  modifiers?: Modifier<any>[];\n  startingEdge?: string;\n  /**\n   * How much to move the dialog in relative to children\n   * main is the axis in which the position is aligned to\n   * secondary is the vertical axes to the position\n   */\n  moveBy?: { main?: number; secondary?: number };\n  /**\n   * how much delay should the Dialog wait until it should trigger the show in MS\n   */\n  showDelay?: number;\n  /**\n   * how much delay should the Dialog wait until it should trigger the hide in MS\n   */\n  hideDelay?: number;\n  /**\n   * an array of hide/show trigger -\n   * Dialog.hideShowTriggers\n   */\n  showTrigger?: HideShowEvent | HideShowEvent[];\n  /**\n   * an array of hide/show trigger -\n   * Dialog.hideShowTriggers\n   */\n  hideTrigger?: HideShowEvent | HideShowEvent[];\n  /**\n   * If true, prevents opened Dialog from closing on mouseEnter, and closes Dialog when mouse leaves it\n   */\n  showOnDialogEnter?: boolean;\n  /**\n   * Show the Dialog when the children are mounting\n   */\n  shouldShowOnMount?: boolean;\n  /**\n   * disable the opening of the dialog\n   */\n  disable?: boolean;\n  /**\n   * open is a controlled prop to open the dialog\n   */\n  open?: boolean;\n  /**\n   * used when state is derived from props\n   */\n  isOpen?: boolean;\n  /**\n   * if this class exists on the children the show trigger will be ignored\n   */\n  showTriggerIgnoreClass?: string | Array<string>;\n  /**\n   * if this class exists on the children the hide trigger will be ignored\n   */\n  hideTriggerIgnoreClass?: string | Array<string>;\n  /**\n   * Dialog animation type\n   */\n  animationType?: AnimationType;\n  /**\n   * Classname to be added to the content container\n   */\n  wrapperClassName?: string;\n  /**\n   * Prevent Animation\n   */\n  preventAnimationOnMount?: boolean;\n  /**\n   * the container selector in which to append the dialog\n   * for examples: \"body\" , \".my-class\", \"#my-id\"\n   */\n  containerSelector?: string;\n  /**\n   * should position the tooltip element\n   * https://popper.js.org/docs/v2/modifiers/arrow/\n   */\n  tooltip?: boolean;\n  /**\n   * class name to add to the tooltip element\n   */\n  tooltipClassName?: string;\n  /**\n   * callback to be called when the dialog is shown\n   */\n  onDialogDidShow?: (event?: DialogEvent, eventName?: HideShowEvent | string) => void;\n  /**\n   * callback to be called when the dialog is hidden\n   */\n  onDialogDidHide?: (event: DialogEvent, eventName: HideShowEvent | string) => void;\n  /**\n   * callback to be called when click outside is being triggered\n   */\n  onClickOutside?: (event: React.MouseEvent) => void;\n  /**\n   * callback to be called when click on the content is being triggered\n   */\n  onContentClick?: (event: React.MouseEvent) => void;\n  /**\n   * z-index to add to the dialog\n   */\n  zIndex?: number;\n  useDerivedStateFromProps?: boolean;\n  /**\n   * Make the dialog disappear when the element it is attached to becomes hidden\n   */\n  hideWhenReferenceHidden?: boolean;\n  /**\n   * @deprecated - use shouldCallbackOnMount instead\n   */\n  shoudlCallbackOnMount?: boolean;\n  shouldCallbackOnMount?: boolean;\n  instantShowAndHide?: boolean;\n  getDynamicShowDelay?: () => { showDelay: number; preventAnimation: boolean };\n  content?: (() => JSX.Element) | JSX.Element;\n  /**\n   * The element where we will position the dialog beside.\n   */\n  children?: ReactElement | ReactElement[] | string;\n  /**\n   * Treats keyboard focus/blur events as mouse-enter/mouse-leave events\n   */\n  addKeyboardHideShowTriggersByDefault?: boolean;\n  /**\n   * If true disable the scroll for the containerSelector element.\n   * If string use it as selector to prevent scroll.\n   */\n  disableContainerScroll?: boolean | string;\n}\n\nexport interface DialogState {\n  isOpen?: boolean;\n  shouldUseDerivedStateFromProps?: boolean;\n  preventAnimation?: boolean;\n}\n\nexport type DialogEvent = React.MouseEvent | React.KeyboardEvent | KeyboardEvent | React.FocusEvent | CustomEvent;\n\nexport default class Dialog extends PureComponent<DialogProps, DialogState> {\n  static hideShowTriggers = HideShowEvent;\n  static positions = DialogPosition;\n  static animationTypes = AnimationType;\n  static defaultProps = {\n    position: \"top\",\n    modifiers: [] as Modifier<any>[],\n    moveBy: { main: 0, secondary: 0 },\n    showDelay: 100,\n    hideDelay: 100,\n    showTrigger: Dialog.hideShowTriggers.MOUSE_ENTER,\n    hideTrigger: Dialog.hideShowTriggers.MOUSE_LEAVE,\n    showOnDialogEnter: false,\n    shouldShowOnMount: false,\n    disable: false,\n    open: false,\n    animationType: Dialog.animationTypes.EXPAND,\n    preventAnimationOnMount: false,\n    containerSelector: \"body\",\n    tooltip: false,\n    onDialogDidShow: NOOP,\n    onDialogDidHide: NOOP,\n    onClickOutside: NOOP,\n    onContentClick: NOOP,\n    useDerivedStateFromProps: false,\n    hideWhenReferenceHidden: false,\n    shoudlCallbackOnMount: false,\n    shouldCallbackOnMount: false,\n    instantShowAndHide: false,\n    addKeyboardHideShowTriggersByDefault: false\n  };\n  private showTimeout: NodeJS.Timeout;\n  private hideTimeout: NodeJS.Timeout;\n\n  constructor(props: DialogProps) {\n    super(props);\n    this.state = {\n      shouldUseDerivedStateFromProps: props.useDerivedStateFromProps,\n      isOpen: props.shouldShowOnMount\n    };\n\n    // Binding section.\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.isShown = this.isShown.bind(this);\n    this.onEsc = this.onEsc.bind(this);\n    this.onClickOutside = this.onClickOutside.bind(this);\n    this.onDialogEnter = this.onDialogEnter.bind(this);\n    this.onDialogLeave = this.onDialogLeave.bind(this);\n    this.getContainer = this.getContainer.bind(this);\n    this.onContentClick = this.onContentClick.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.closeDialogOnEscape = this.closeDialogOnEscape.bind(this);\n    this.onContextMenu = this.onContextMenu.bind(this);\n\n    // Timeouts\n    this.hideTimeout = null;\n    this.showTimeout = null;\n  }\n\n  closeDialogOnEscape(event: KeyboardEvent) {\n    const { isOpen } = this.state;\n    if (!isOpen) {\n      return;\n    }\n    switch (event.key) {\n      case \"Escape\":\n        this.hideDialogIfNeeded(event, HideShowEvent.ESCAPE_KEY);\n        break;\n      case \"Tab\":\n        this.handleEvent(HideShowEvent.TAB_KEY, event.target, event);\n        break;\n      case \"Enter\":\n        this.handleEvent(HideShowEvent.ENTER, event.target, event);\n        break;\n      default:\n        break;\n    }\n  }\n\n  componentDidMount() {\n    const { shoudlCallbackOnMount, shouldCallbackOnMount, onDialogDidShow } = this.props;\n    const overrideShouldCallbackOnMount = backwardCompatibilityForProperties(\n      [shouldCallbackOnMount, shoudlCallbackOnMount],\n      false\n    );\n    const { isOpen } = this.state;\n    if (isClient()) {\n      document.addEventListener(\"keyup\", this.closeDialogOnEscape);\n    }\n    if (overrideShouldCallbackOnMount && isOpen) {\n      onDialogDidShow && onDialogDidShow();\n    }\n  }\n\n  componentWillUnmount() {\n    if (isClient()) {\n      document.removeEventListener(\"keyup\", this.closeDialogOnEscape);\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps: DialogProps, state: DialogState): DialogState {\n    if (state.shouldUseDerivedStateFromProps) {\n      return { isOpen: nextProps.isOpen };\n    }\n    return null;\n  }\n\n  getContainer() {\n    const { containerSelector } = this.props;\n    if (!containerSelector) {\n      return document.body;\n    }\n\n    const containerElement = document.querySelector(containerSelector);\n    if (!containerElement || !(containerElement instanceof Element)) {\n      // TODO add env check - if not jest env - trashing the logs - https://monday.monday.com/boards/3532714909/pulses/5570955392\n      // console.error(\n      //   `Dialog: Container element with selector \"${containerSelector}\" was not found or is not an HTMLElement. Dialog may not be correctly positioned.`\n      // );\n      return document.body;\n    }\n    return containerElement;\n  }\n\n  showDialog(event: DialogEvent, eventName: HideShowEvent | string, options: { preventAnimation?: boolean } = {}) {\n    const { showDelay, instantShowAndHide, getDynamicShowDelay } = this.props;\n    let finalShowDelay = showDelay;\n    let preventAnimation = options.preventAnimation;\n    if (getDynamicShowDelay) {\n      const dynamicDelayObj = getDynamicShowDelay();\n      finalShowDelay = dynamicDelayObj.showDelay || 0;\n      preventAnimation = preventAnimation || dynamicDelayObj.preventAnimation;\n    }\n\n    if (instantShowAndHide) {\n      this.onShowDialog(event, eventName);\n      this.setState({ isOpen: true, preventAnimation });\n      this.showTimeout = null;\n    } else {\n      this.showTimeout = setTimeout(() => {\n        this.onShowDialog(event, eventName);\n        this.showTimeout = null;\n        this.setState({ isOpen: true, preventAnimation });\n      }, finalShowDelay);\n    }\n  }\n\n  onShowDialog(event: DialogEvent, eventName: HideShowEvent | string) {\n    if (this.isShown()) return;\n    const { onDialogDidShow } = this.props;\n    onDialogDidShow(event, eventName);\n  }\n\n  showDialogIfNeeded(event: DialogEvent, eventName: HideShowEvent | string, options = {}) {\n    const { disable } = this.props;\n    if (disable) {\n      return;\n    }\n\n    if (this.hideTimeout) {\n      clearTimeout(this.hideTimeout);\n      this.hideTimeout = null;\n    }\n\n    if (!this.showTimeout) {\n      this.showDialog(event, eventName, options);\n    }\n  }\n\n  hideDialog(event: DialogEvent, eventName: HideShowEvent | string) {\n    const { hideDelay, instantShowAndHide } = this.props;\n    if (instantShowAndHide) {\n      this.onHideDialog(event, eventName);\n      this.setState({ isOpen: false });\n      this.hideTimeout = null;\n    } else {\n      this.hideTimeout = setTimeout(() => {\n        this.onHideDialog(event, eventName);\n        this.setState({ isOpen: false });\n        this.hideTimeout = null;\n      }, hideDelay);\n    }\n  }\n\n  onHideDialog(event: DialogEvent, eventName: HideShowEvent | string) {\n    const { onDialogDidHide } = this.props;\n    if (onDialogDidHide) onDialogDidHide(event, eventName);\n  }\n\n  hideDialogIfNeeded(event: DialogEvent, eventName: HideShowEvent | string) {\n    if (this.showTimeout) {\n      clearTimeout(this.showTimeout);\n      this.showTimeout = null;\n    }\n\n    if (this.hideTimeout) {\n      return;\n    }\n    this.hideDialog(event, eventName);\n  }\n\n  handleEvent(eventName: HideShowEvent, target: EventTarget, event: DialogEvent) {\n    const { showTriggerIgnoreClass, hideTriggerIgnoreClass } = this.props;\n    if (\n      this.isShowTrigger(eventName) &&\n      !this.isShown() &&\n      !isInsideClass(target as HTMLElement, showTriggerIgnoreClass)\n    ) {\n      return this.showDialogIfNeeded(event, eventName);\n    }\n\n    if (this.isHideTrigger(eventName) && !isInsideClass(target as HTMLElement, hideTriggerIgnoreClass)) {\n      return this.hideDialogIfNeeded(event, eventName);\n    }\n  }\n\n  isShown() {\n    const { isOpen } = this.state;\n    const { open } = this.props;\n\n    return isOpen || open;\n  }\n\n  isShowTrigger(eventName: HideShowEvent) {\n    const { showTrigger, addKeyboardHideShowTriggersByDefault } = this.props;\n    const showTriggersArray = convertToArray(showTrigger);\n\n    if (addKeyboardHideShowTriggersByDefault) {\n      if (eventName === HideShowEvent.FOCUS && showTriggersArray.indexOf(HideShowEvent.MOUSE_ENTER) > -1) {\n        return true;\n      }\n    }\n\n    return showTriggersArray.indexOf(eventName) > -1;\n  }\n\n  isHideTrigger(eventName: HideShowEvent) {\n    const { hideTrigger, addKeyboardHideShowTriggersByDefault } = this.props;\n    const hideTriggersArray = convertToArray(hideTrigger);\n\n    if (addKeyboardHideShowTriggersByDefault) {\n      if (eventName === HideShowEvent.BLUR && hideTriggersArray.indexOf(HideShowEvent.MOUSE_LEAVE) > -1) {\n        return true;\n      }\n    }\n\n    return hideTriggersArray.indexOf(eventName) > -1;\n  }\n\n  onMouseEnter(e: React.MouseEvent) {\n    this.handleEvent(HideShowEvent.MOUSE_ENTER, e.target, e);\n  }\n\n  onMouseLeave(e: React.MouseEvent) {\n    this.handleEvent(HideShowEvent.MOUSE_LEAVE, e.target, e);\n  }\n\n  onClick(e: React.MouseEvent) {\n    if (e.button) return;\n    this.handleEvent(HideShowEvent.CLICK, e.target, e);\n  }\n\n  onKeyDown(event: React.KeyboardEvent) {\n    if (event.key === \"Enter\") {\n      this.handleEvent(HideShowEvent.ENTER, event.target, event);\n    }\n\n    if (event.key === \"Tab\") {\n      this.handleEvent(HideShowEvent.TAB_KEY, event.target, event);\n    }\n  }\n\n  onMouseDown(e: React.MouseEvent) {\n    if (e.button) return;\n    this.handleEvent(HideShowEvent.MOUSE_DOWN, e.target, e);\n  }\n\n  onFocus(e: React.FocusEvent) {\n    this.handleEvent(HideShowEvent.FOCUS, e.target, e);\n  }\n\n  onBlur(e: React.FocusEvent) {\n    this.handleEvent(HideShowEvent.BLUR, e.relatedTarget, e);\n  }\n\n  onEsc(e: React.KeyboardEvent) {\n    this.handleEvent(HideShowEvent.ESCAPE_KEY, e.target, e);\n  }\n\n  onContextMenu(e: React.MouseEvent) {\n    const isShown = this.isShown();\n    if (\n      (this.isShowTrigger(HideShowEvent.CONTEXT_MENU) && !isShown) ||\n      (this.isHideTrigger(HideShowEvent.CONTEXT_MENU) && isShown)\n    ) {\n      e.preventDefault();\n    }\n    this.handleEvent(HideShowEvent.CONTEXT_MENU, e.target, e);\n  }\n\n  onClickOutside(event: React.MouseEvent) {\n    const { onClickOutside } = this.props;\n    this.handleEvent(HideShowEvent.CLICK_OUTSIDE, event.target, event);\n    onClickOutside(event);\n  }\n\n  onDialogEnter(event: React.MouseEvent) {\n    const { showOnDialogEnter } = this.props;\n    if (showOnDialogEnter) this.showDialogIfNeeded(event, \"DialogEnter\");\n  }\n\n  onDialogLeave(event: React.MouseEvent) {\n    const { showOnDialogEnter } = this.props;\n    if (showOnDialogEnter) this.hideDialogIfNeeded(event, \"DialogLeave\");\n  }\n\n  onContentClick(e: React.MouseEvent) {\n    const { onContentClick } = this.props;\n    this.handleEvent(HideShowEvent.CONTENT_CLICK, e.target, e);\n    onContentClick(e);\n  }\n\n  render() {\n    const {\n      wrapperClassName,\n      content,\n      startingEdge,\n      children,\n      preventAnimationOnMount,\n      animationType,\n      position,\n      showDelay,\n      moveBy,\n      modifiers,\n      tooltip,\n      tooltipClassName,\n      referenceWrapperClassName,\n      zIndex,\n      hideWhenReferenceHidden,\n      disableContainerScroll,\n      containerSelector,\n      id,\n      \"data-testid\": dataTestId\n    } = this.props;\n    const { preventAnimation } = this.state;\n    const overrideDataTestId = dataTestId || getTestId(ComponentDefaultTestId.DIALOG, id);\n\n    const disableOnClickOutside = !this.isHideTrigger(HideShowEvent.CLICK_OUTSIDE);\n    const animationTypeCalculated = preventAnimationOnMount || preventAnimation ? undefined : animationType;\n    const contentRendered = isFunction(content) ? content() : content;\n\n    if (!contentRendered) {\n      return children;\n    }\n    return (\n      // @ts-ignore TS2746: This JSX tag's 'children' prop expects a single child of type 'ReactNode', but multiple children were provided.\n      <Manager>\n        <Reference>\n          {({ ref }) => {\n            return (\n              <Refable\n                className={cx(referenceWrapperClassName)}\n                ref={ref}\n                onBlur={chainOnPropsAndInstance(\"onBlur\", this, this.props)}\n                onKeyDown={chainOnPropsAndInstance(\"onKeyDown\", this, this.props)}\n                onClick={chainOnPropsAndInstance(\"onClick\", this, this.props)}\n                onFocus={chainOnPropsAndInstance(\"onFocus\", this, this.props)}\n                onMouseDown={chainOnPropsAndInstance(\"onMouseDown\", this, this.props)}\n                onMouseEnter={chainOnPropsAndInstance(\"onMouseEnter\", this, this.props)}\n                onMouseLeave={chainOnPropsAndInstance(\"onMouseLeave\", this, this.props)}\n                onContextMenu={chainOnPropsAndInstance(\"onContextMenu\", this, this.props)}\n              >\n                {children}\n              </Refable>\n            );\n          }}\n        </Reference>\n        {isClient() &&\n          createPortal(\n            <Popper\n              placement={position as unknown as PopperJS.Placement}\n              modifiers={[\n                {\n                  name: \"offset\",\n                  options: {\n                    offset: [moveBy.secondary, moveBy.main]\n                  }\n                },\n                {\n                  name: \"zIndex\",\n                  enabled: true,\n                  phase: \"write\",\n                  fn({ state }) {\n                    if (zIndex) {\n                      state.styles.popper.zIndex = String(zIndex);\n                    }\n                    return state;\n                  }\n                },\n                {\n                  name: \"rotator\",\n                  enabled: true,\n                  phase: \"write\",\n                  fn({ state }) {\n                    // eslint-disable-next-line no-param-reassign\n                    if (!state.styles.arrow) {\n                      return state;\n                    }\n                    // const reg = new RegExp(\n                    //   /translate\\(([0-9].*)px, ([0-9].*)px\\)/\n                    // );\n                    // const transform = state.styles.arrow.transform;\n                    // const res = reg.exec(transform);\n                    // state.styles.popper.transformOrigin = `${100 -\n                    //   res[1]}% ${100 - res[2]}%`;\n                    state.styles.arrow.transform = `${state.styles.arrow.transform} rotate(45deg)`;\n                    return state;\n                  }\n                },\n                ...modifiers\n              ]}\n            >\n              {({ placement, style, ref, arrowProps, isReferenceHidden }) => {\n                if (!this.isShown() && placement) {\n                  return null;\n                }\n\n                if (hideWhenReferenceHidden && isReferenceHidden) {\n                  const event = new CustomEvent(\"onReferenceHidden\");\n                  this.hideDialog(event, \"onReferenceHidden\");\n                }\n\n                return (\n                  <DialogContent\n                    data-testid={overrideDataTestId}\n                    isReferenceHidden={hideWhenReferenceHidden && isReferenceHidden}\n                    onMouseEnter={this.onDialogEnter}\n                    onMouseLeave={this.onDialogLeave}\n                    disableOnClickOutside={disableOnClickOutside}\n                    onClickOutside={this.onClickOutside}\n                    onContextMenu={this.onContextMenu}\n                    onEsc={this.onEsc}\n                    animationType={animationTypeCalculated}\n                    position={placement}\n                    wrapperClassName={wrapperClassName}\n                    startingEdge={startingEdge}\n                    isOpen={this.isShown()}\n                    showDelay={showDelay}\n                    styleObject={style}\n                    ref={ref}\n                    onClick={this.onContentClick}\n                    hasTooltip={!!tooltip}\n                    containerSelector={containerSelector}\n                    disableContainerScroll={disableContainerScroll}\n                  >\n                    {contentRendered}\n                    {tooltip && (\n                      <div\n                        style={arrowProps.style}\n                        ref={arrowProps.ref}\n                        className={cx(styles.arrow, tooltipClassName)}\n                        data-placement={placement}\n                      />\n                    )}\n                  </DialogContent>\n                );\n              }}\n            </Popper>,\n            this.getContainer()\n          )}\n      </Manager>\n    );\n  }\n}\n\nfunction chainOnPropsAndInstance(name: string, instance: Dialog, props: DialogProps) {\n  // @ts-ignore\n  return chainFunctions([props[name], instance[name]], true);\n}\n"],"names":["Dialog","_PureComponent","props","_this","_classCallCheck","_callSuper","state","shouldUseDerivedStateFromProps","useDerivedStateFromProps","isOpen","shouldShowOnMount","onMouseEnter","bind","onMouseLeave","onMouseDown","onClick","onFocus","onBlur","isShown","onEsc","onClickOutside","onDialogEnter","onDialogLeave","getContainer","onContentClick","onKeyDown","closeDialogOnEscape","onContextMenu","hideTimeout","showTimeout","_inherits","PureComponent","_createClass","key","value","event","this","hideDialogIfNeeded","HideShowEvent","ESCAPE_KEY","handleEvent","TAB_KEY","target","ENTER","_this$props","onDialogDidShow","overrideShouldCallbackOnMount","backwardCompatibilityForProperties","shouldCallbackOnMount","shoudlCallbackOnMount","isClient","document","addEventListener","removeEventListener","containerSelector","body","containerElement","querySelector","Element","eventName","_this2","_this$props2","instantShowAndHide","getDynamicShowDelay","finalShowDelay","showDelay","preventAnimation","dynamicDelayObj","onShowDialog","setState","setTimeout","options","arguments","length","undefined","disable","clearTimeout","showDialog","_this3","_this$props3","hideDelay","onHideDialog","onDialogDidHide","hideDialog","_this$props4","showTriggerIgnoreClass","hideTriggerIgnoreClass","isShowTrigger","isInsideClass","isHideTrigger","showDialogIfNeeded","open","_this$props5","addKeyboardHideShowTriggersByDefault","showTriggersArray","convertToArray","showTrigger","FOCUS","indexOf","MOUSE_ENTER","_this$props6","hideTriggersArray","hideTrigger","BLUR","MOUSE_LEAVE","e","button","CLICK","MOUSE_DOWN","relatedTarget","CONTEXT_MENU","preventDefault","CLICK_OUTSIDE","showOnDialogEnter","CONTENT_CLICK","_this4","_this$props7","wrapperClassName","content","startingEdge","children","preventAnimationOnMount","animationType","position","moveBy","modifiers","tooltip","tooltipClassName","referenceWrapperClassName","zIndex","hideWhenReferenceHidden","disableContainerScroll","overrideDataTestId","getTestId","ComponentDefaultTestId","DIALOG","id","disableOnClickOutside","animationTypeCalculated","contentRendered","isFunction","React","createElement","Manager","Reference","_ref","ref","Refable","className","cx","chainOnPropsAndInstance","createPortal","Popper","placement","name","offset","secondary","main","enabled","phase","fn","_ref2","styles","popper","String","_ref3","arrow","transform","concat","_toConsumableArray","_ref4","style","arrowProps","isReferenceHidden","CustomEvent","DialogContent","styleObject","hasTooltip","nextProps","instance","chainFunctions","hideShowTriggers","positions","DialogPosition","animationTypes","AnimationType","defaultProps","EXPAND","NOOP"],"mappings":"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"}